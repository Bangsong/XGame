{"version":3,"sources":["..\\..\\..\\..\\assets\\Scripts/assets\\Scripts\\PageViewControll.js"],"names":["cc","Class","extends","Component","properties","pageView","type","Node","default","startBtn","progressBar","ProgressBar","startBtnControll","self","on","EventType","TOUCH_START","scaleToSmall","scaleTo","scaleToBig","seq","sequence","runAction","node","show","barFlag","updateBar","dt","progress","director","loadScene","onLoad","audioEngine","stopAll","preloadScene","hide","update"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAS;AACLC,kBAAKN,GAAGO,IADH;AAELC,qBAAQ;AAFH,SADD;AAKRC,kBAAS;AACLH,kBAAKN,GAAGO,IADH;AAELC,qBAAQ;AAFH,SALD;AASRE,qBAAY;AACRJ,kBAAKN,GAAGW,WADA;AAERH,qBAAQ;AAFA;AATJ,KAHP;AAiBLI,oBAjBK,8BAiBe;AAChB,YAAIC,OAAO,IAAX;AACA;AACA,aAAKJ,QAAL,CAAcK,EAAd,CAAiBd,GAAGO,IAAH,CAAQQ,SAAR,CAAkBC,WAAnC,EAA+C,YAAU;AACrD,gBAAIC,eAAejB,GAAGkB,OAAH,CAAW,CAAX,EAAa,GAAb,EAAiB,GAAjB,CAAnB;AACA,gBAAIC,aAAanB,GAAGkB,OAAH,CAAW,CAAX,EAAa,CAAb,EAAe,CAAf,CAAjB;AACA,gBAAIE,MAAMpB,GAAGqB,QAAH,CAAYJ,YAAZ,EAAyBE,UAAzB,CAAV;AACAN,iBAAKJ,QAAL,CAAca,SAAd,CAAwBF,GAAxB;AACAP,iBAAKH,WAAL,CAAiBa,IAAjB,CAAsBD,SAAtB,CAAgCtB,GAAGwB,IAAH,EAAhC;AACAX,iBAAKY,OAAL,GAAe,IAAf;AACH,SAPD;AAQH,KA5BI;AA6BLC,aA7BK,qBA6BMC,EA7BN,EA6BU;AACX,YAAIC,WAAW,KAAKlB,WAAL,CAAiBkB,QAAhC;AACA,YAAGA,WAAW,GAAd,EAAkB;AACdA,wBAAYD,KAAK,CAAjB;AACH,SAFD,MAGK;AACD3B,eAAG6B,QAAH,CAAYC,SAAZ,CAAsB,UAAtB;AACH;AACD,aAAKpB,WAAL,CAAiBkB,QAAjB,GAA4BA,QAA5B;AACH,KAtCI;AAuCLG,UAvCK,oBAuCK;AACN/B,WAAGgC,WAAH,CAAeC,OAAf;AACAjC,WAAG6B,QAAH,CAAYK,YAAZ,CAAyB,UAAzB;AACA,aAAKT,OAAL,GAAe,KAAf;AACA,aAAKf,WAAL,CAAiBa,IAAjB,CAAsBD,SAAtB,CAAgCtB,GAAGmC,IAAH,EAAhC;AACA,aAAKvB,gBAAL;AACH,KA7CI;AA8CLwB,UA9CK,kBA8CGT,EA9CH,EA8CO;AACR,YAAG,KAAKF,OAAR,EACI,KAAKC,SAAL,CAAeC,EAAf;AACP;AAjDI,CAAT","file":"PageViewControll.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        pageView:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        startBtn:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        progressBar:{\r\n            type:cc.ProgressBar,\r\n            default:null\r\n        },\r\n    },\r\n    startBtnControll () {\r\n        var self = this;\r\n        //触摸事件\r\n        this.startBtn.on(cc.Node.EventType.TOUCH_START,function(){\r\n            var scaleToSmall = cc.scaleTo(1,0.8,0.9);\r\n            var scaleToBig = cc.scaleTo(1,1,1);\r\n            var seq = cc.sequence(scaleToSmall,scaleToBig);\r\n            self.startBtn.runAction(seq);\r\n            self.progressBar.node.runAction(cc.show());\r\n            self.barFlag = true;\r\n        });\r\n    },\r\n    updateBar (dt) {\r\n        var progress = this.progressBar.progress;\r\n        if(progress < 1.0){\r\n            progress += dt * 1;\r\n        }\r\n        else {\r\n            cc.director.loadScene(\"GameMain\");\r\n        }\r\n        this.progressBar.progress = progress;\r\n    },\r\n    onLoad () {\r\n        cc.audioEngine.stopAll();\r\n        cc.director.preloadScene(\"GameMain\");\r\n        this.barFlag = false;\r\n        this.progressBar.node.runAction(cc.hide());\r\n        this.startBtnControll();\r\n    },\r\n    update (dt) {\r\n        if(this.barFlag)\r\n            this.updateBar(dt);\r\n    },\r\n});\r\n"]}