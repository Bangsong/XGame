require=function e(t,c,n){function o(a,r){if(!c[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var s=c[a]={exports:{}};t[a][0].call(s.exports,function(e){var c=t[a][1][e];return o(c||e)},s,s.exports,e,t,c,n)}return c[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({Blink:[function(e,t,c){"use strict";cc._RF.push(t,"723e33+/4BMBIEj9Rot+TP7","Blink"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],GameFace:[function(e,t,c){"use strict";cc._RF.push(t,"47321EZStpMTqbWcpx/GWHm","GameFace"),cc.Class({extends:cc.Component,properties:{bgAudio:{url:cc.AudioClip,default:null},startBtn:{type:cc.Node,default:null},title1:{type:cc.Node,default:null},title3:{type:cc.Node,default:null}},elemAction:function(){var e=cc.rotateBy(5,360),t=cc.scaleTo(1,1.5,1.2),c=cc.scaleTo(1,1,1),n=cc.sequence(e,t,c),o=cc.repeatForever(n);this.title1.runAction(o);var i=cc.fadeOut(1),a=cc.fadeIn(3,1),r=cc.sequence(i,a),l=cc.repeatForever(r);this.title3.runAction(l);var u=cc.scaleTo(1,.7,.9),s=cc.scaleTo(1,.8,1),d=cc.sequence(u,s),p=cc.repeatForever(d);this.startBtn.runAction(p)},startBtnControll:function(){this.startBtn.on("touchstart",function(){cc.audioEngine.stopAll(),cc.director.loadScene("GameMain")})},onLoad:function(){cc.director.preloadScene("GameMain"),cc.audioEngine.play(this.bgAudio,!0,.5),this.elemAction(),this.startBtnControll()}}),cc._RF.pop()},{}],GameMain:[function(e,t,c){"use strict";cc._RF.push(t,"2b268rmZKxOlr6fkRyb+Nzx","GameMain");e("Blink");cc.Class({extends:cc.Component,properties:{bgAduio:{url:cc.AudioClip,default:null},playerPre:{type:cc.Prefab,default:null},playerDefaultX:{type:Number,default:-21},playerDefaultY:{type:Number,default:-245.5},boomAudio:{url:cc.AudioClip,default:null},Steps:{type:cc.Prefab,default:null},touchAudio:{url:cc.AudioClip,default:null},jumpGoAduio:{url:cc.AudioClip,default:null},jumpHeight:{type:Number,default:50},moveLen:{type:Number,default:20},jumpMoveHeight:{type:Number,default:8},wallWidth:{type:Number,default:63},blinks:{type:cc.Prefab,default:null},blinkAduio:{url:cc.AudioClip,default:null},ghosts:{type:cc.Prefab,default:null},ghostCount:{type:Number,default:4},newGhostTimes:{type:Number,default:3},ghostSpeed:{type:Number,default:30},ghostMinX:{type:Number,default:-161},ghostMaxX:{type:Number,default:157},zero:{type:cc.Prefab,default:null},one:{type:cc.Prefab,default:null},two:{type:cc.Prefab,default:null},three:{type:cc.Prefab,default:null},four:{type:cc.Prefab,default:null},five:{type:cc.Prefab,default:null},six:{type:cc.Prefab,default:null},seven:{type:cc.Prefab,default:null},eight:{type:cc.Prefab,default:null},nine:{type:cc.Prefab,default:null}},init:function(){for(c=0;c<=8;c++){var e=cc.instantiate(this.Steps);this.node.addChild(e),e.setPosition(cc.p(this.node.width/2-42-40*c,-273.5))}for(c=0;c<3;c++){var t=cc.instantiate(this.blinks);this.node.addChild(t),t.setPosition(cc.p(-this.node.width/2+42+40*c,-304.5))}this.player=cc.instantiate(this.playerPre),this.node.addChild(this.player),this.player.setPosition(cc.p(this.playerDefaultX,this.playerDefaultY));for(var c=0;c<this.ghostCount;c++)this.newGhost();var n=cc.find("Canvas/scoreTitle"),o=cc.find("Canvas/score");n.setPosition(cc.p(this.node.width/2-120,-310)),o.setPosition(cc.p(this.node.width/2-60,-310))},newGhostTime:function(){for(var e=this,t=0;t<this.ghostCount;t++)cc.director.getScheduler().schedule(function(){e.newGhost()},this,e.newGhostTimes,!0)},newGhost:function(){var e=cc.instantiate(this.ghosts),t=385+100*cc.random0To1(),c=cc.random0To1()*this.ghostSpeed;this.node.addChild(e);do{var n=cc.randomMinus1To1()*this.ghostMaxX}while(n<this.ghostMinX||n>this.ghostMaxX);e.setPosition(cc.p(n,t));var o=cc.scaleTo(.1,.8,.9),i=cc.scaleTo(.1,1,1),a=cc.moveBy(.2,cc.p(0,-c)),r=cc.sequence(o,i,a);e.runAction(cc.repeatForever(r))},jumpControll:function(){var e=this,t=cc.director.getScheduler();t.schedule(function(){e.toucheTime++},e,.2);var c,n=cc.scaleTo(.5,.7,.8),o=cc.scaleTo(.3,.8,.9),i=cc.repeatForever(cc.sequence(n,o));e.player.on(cc.Node.EventType.TOUCH_START,function(){e.toucheTime=1,t.resumeTarget(e),e.player.runAction(i),c=cc.audioEngine.play(e.touchAudio,!0,.5),t.unscheduleUpdateForTarget(this)}),e.player.on(cc.Node.EventType.TOUCH_END,function(){var n=e.jumpHeight*e.toucheTime;t.pauseTarget(e),cc.audioEngine.stop(c),e.player.stopAction(i);var o=cc.scaleTo(.2,1,1);e.player.runAction(o),cc.audioEngine.play(e.jumpGoAduio,!1,.5);var a=cc.moveBy(.5,0,n),r=cc.moveBy(.45,0,-n);e.player.runAction(cc.sequence(a,r))}),e.player.on(cc.Node.EventType.TOUCH_CANCEL,function(){cc.audioEngine.stop(c),e.player.stopAction(i);var t=cc.scaleTo(.2,1,1);e.player.runAction(t)})},moveControll:function(){var e=this,t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,c){var n=c.getCurrentTarget().convertToNodeSpace(t.getLocation());if(n.x>40&&e.player.x<e.node.width/2-e.wallWidth){cc.audioEngine.play(e.jumpGoAduio,!1,.5);var o=cc.moveBy(.1,cc.p(e.moveLen,e.jumpMoveHeight)),i=cc.moveBy(.2,cc.p(0,-e.jumpMoveHeight));e.player.runAction(cc.sequence(o,i))}if(n.x<0&&e.player.x>-e.node.width/2+e.wallWidth-20){cc.audioEngine.play(e.jumpGoAduio,!1,.5);var o=cc.moveBy(.1,cc.p(-e.moveLen,e.jumpMoveHeight)),i=cc.moveBy(.2,cc.p(0,-e.jumpMoveHeight));e.player.runAction(cc.sequence(o,i))}return!0}};cc.eventManager.addListener(t,e.player)},onLoad:function(){cc.director.preloadScene("GameOver"),cc.audioEngine.play(this.bgAduio,!0,.2),this.blinkCount=3,this.init(),this.moveControll(),this.jumpControll(),this.newGhostTime()},update:function(e){if(this.player.y>this.node.height/2-20){var t=cc.find("Canvas/score").getComponent(cc.Label);cc.sys.localStorage.setItem("score",t.string),cc.director.loadScene("GameOver")}}}),cc._RF.pop()},{Blink:"Blink"}],GameOver:[function(e,t,c){"use strict";cc._RF.push(t,"921d2ZnhxRMx5T/f6j1qkk5","GameOver"),cc.Class({extends:cc.Component,properties:{gameOverAudio:{url:cc.AudioClip,default:null},againBtn:{type:cc.Node,default:null},score:{type:cc.Label,default:null}},againBtnControll:function(){var e=cc.scaleTo(1,.7,.9),t=cc.scaleTo(1,.8,1),c=cc.sequence(e,t),n=cc.repeatForever(c);this.againBtn.runAction(n),this.againBtn.on("touchstart",function(){cc.audioEngine.stopAll(),cc.director.loadScene("GameMain")})},onLoad:function(){cc.audioEngine.stopAll(),cc.audioEngine.play(this.gameOverAudio,!1,.5),this.score.string="最终得分："+cc.sys.localStorage.getItem("score"),cc.director.preloadScene("GameMain"),this.againBtnControll()}}),cc._RF.pop()},{}],Ghost:[function(e,t,c){"use strict";cc._RF.push(t,"e2211heVYhNqaxulamrgPTf","Ghost");var n=e("Player"),o=e("Blink"),i=e("GameMain");cc.Class({extends:cc.Component,properties:{},noteBox:function(){return this.node.getBoundingBoxToWorld()},onLoad:function(){},update:function(e){var t=cc.find("Canvas/player").getComponent(n),c=cc.find("Canvas/blink").getComponent(o),a=cc.find("Canvas").getComponent(i),r=cc.find("Canvas/score").getComponent(cc.Label);if(this.node.y<-305&&(cc.audioEngine.play(a.blinkAduio,!1,.5),c.node.destroy(),a.blinkCount--,this.node.destroy(),0==a.blinkCount&&(cc.sys.localStorage.setItem("score",r.string),cc.director.loadScene("GameOver"))),cc.rectIntersectsRect(t.node.getBoundingBoxToWorld(),this.noteBox()))if(t.node.y>=a.playerDefaultY+20){cc.audioEngine.play(a.boomAudio,!1,.5),this.node.destroy(),r.string=parseInt(r.string)+1,t.node.stopAllActions();var l=cc.moveTo(.3,cc.p(t.node.x,a.playerDefaultY));t.node.runAction(l)}else cc.sys.localStorage.setItem("score",r.string),cc.director.loadScene("GameOver")}}),cc._RF.pop()},{Blink:"Blink",GameMain:"GameMain",Player:"Player"}],Player:[function(e,t,c){"use strict";cc._RF.push(t,"c733aqOpS5Ep65/qQ9JCLAH","Player"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},update:function(e){}}),cc._RF.pop()},{}]},{},["Blink","GameFace","GameMain","GameOver","Ghost","Player"]);